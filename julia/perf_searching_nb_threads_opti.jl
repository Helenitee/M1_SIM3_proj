using Plots
# max nb threads available : 4 (commade : lscpu)
# threads mesh Nsteps DOF    Ttot     Tmoy     GFLP
data = [1 1 580 244288 24.86369 0.042868 3.333652;
        2 1 580 244288 12.85928 0.022171 6.445684;
        3 1 580 244288 9.037372 0.015582 9.171573;
        4 1 580 244288 7.295292 0.012578 11.361700;
        1 2 877 242640 33.092420 0.037734 1.832645;
        2 2 877 242640 16.943357 0.019320 3.579377;
        3 2 877 242640 11.932116 0.013606 5.082641;
        4 2 877 242640 9.565375 0.010907 6.340228;
        1 3 1238 256880 56.758786 0.045847 1.036548;
        2 3 1238 256880 29.149366 0.023546 2.018336;
        3 3 1238 256880 20.213466 0.016328 2.910596;
        4 3 1238 256880 16.073919 0.012984 3.660167;
        1 4 1833 258300 109.061567 0.059499 0.617078;
        2 4 1833 258300 56.401590 0.030770 1.193220;
        3 4 1833 258300 39.463525 0.021529 1.705360;
        4 4 1833 258300 31.325865 0.017090 2.148369;
        1 5 1719 251328 125.939634 0.073263 0.414107;
        2 5 1719 251328 64.432538 0.037483 0.809413;
        3 5 1719 251328 44.671557 0.025987 1.167466;
        4 5 1719 251328 35.488514 0.020645 1.469561;
        1 6 2123 253344 208.493251 0.098207 0.280696;
        2 6 2123 253344 105.621623 0.049751 0.554083;
        3 6 2123 253344 74.290833 0.034993 0.787757;
        4 6 2123 253344 58.383431 0.027500 1.002393;
        1 7 2211 228480 289.747751 0.131048 0.177254;
        2 7 2211 228480 147.929267 0.066906 0.347185;
        3 7 2211 228480 102.147745 0.046200 0.502790;
        4 7 2211 228480 79.459626 0.035938 0.646352;
        ]

mesh  = @view data[1:4:end, 2]
Tmoy1 = @view data[1:4:end, 6]
Ttot1 = @view data[1:4:end, 5]
Tmoy2 = @view data[2:4:end, 6]
Ttot2 = @view data[2:4:end, 5]
Tmoy3 = @view data[3:4:end, 6]
Ttot3 = @view data[3:4:end, 5]
Tmoy4 = @view data[4:4:end, 6]
Ttot4 = @view data[4:4:end, 5]

begin
    plot(mesh, Tmoy1,
        label = "Tmoy thread 1", 
        marker = :point,
        lw = 2,
        yaxis = ("time", font(10)),
        xaxis = ("polyomial degree", font(10)),
        xticks=(1:1:7),
        # ytricks = log2,
        minorgrid = true)
    plot!(mesh, Tmoy2, label = "Tmoy thread 2", lw = 2, marker = :point)
    plot!(mesh, Tmoy3, label = "Tmoy thread 3", lw = 2, marker = :point)
    plot!(mesh, Tmoy4, label = "Tmoy thread 4", lw = 2, marker = :point)
end